<head>
  <title>room-finder</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>


<body>
  <h1>Sensordata!</h1>
{{>innovation}}
</body>


<template name="innovation">
  <p id="time"> </p>
  <p id="temperature"> </p>
  <p id="light"> </p>
  <p id="humidity"> </p>
  <p id="demo"> </p>


  <script>
    function addZero(i) {
      if (i < 10) {
      i = "0" + i;
      }
    return i;
    }

    var today = new Date();
    var date = today.getFullYear()+'-'+addZero((today.getMonth()+1))+'-'+addZero(today.getDate());
    var time = addZero(today.getHours()) + ":" + addZero(today.getMinutes()) + ":" + addZero(today.getSeconds());
    var dateTime = date+' '+time;

    document.getElementById("demo").innerHTML = "current time = " + dateTime;


    $.getJSON('https://daresay-dev.eu-gb.cf.appdomain.cloud/innovativa/A81758FFFE03BC34/2019:12:04 10:00:00/2019:12:04 13:00:00/1/139kTnm10ksR', function(data) {

      var sensorData = data;
      console.log(sensorData);

      document.getElementById('temperature').innerHTML = "temperature: " + sensorData["0"].dd.light;
      document.getElementById('light').innerHTML = "light: " + sensorData["0"].dd.light;
      document.getElementById('humidity').innerHTML = "humidity: " + sensorData["0"].dd.humidity;
      document.getElementById('time').innerHTML = "time: " + sensorData["0"].time;
    });
  </script>

</template>
